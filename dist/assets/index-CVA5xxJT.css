*{margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color:transparent}body{font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;background:linear-gradient(135deg,#ff9a9e,#fecfef 99% 100%);min-height:100vh;display:flex;justify-content:center;align-items:center;padding:20px;-webkit-user-select:none;user-select:none}.container{width:100%;max-width:500px}header{background:#fffffff2;padding:20px;border-radius:15px 15px 0 0;box-shadow:0 4px 15px #ff698733;border-bottom:3px solid #ff758c}h1{text-align:center;color:#ff4757;font-size:28px;margin-bottom:15px;text-shadow:1px 1px 2px rgba(0,0,0,.1)}.stats{display:flex;justify-content:space-around;gap:15px}.stats span{background:#fff0f3;padding:8px 15px;border-radius:20px;font-size:14px;color:#d63384;border:1px solid #ffc2d1}.stats strong{color:#ff4757;margin-left:5px}.difficulty-selector{background:#fff;padding:30px;border-radius:0 0 15px 15px;box-shadow:0 4px 15px #ff698733}.difficulty-selector h2{text-align:center;color:#d63384;margin-bottom:20px;font-size:20px}.diff-btn{width:100%;padding:15px;margin:10px 0;background:linear-gradient(135deg,#ff758c,#ff7eb3);color:#fff;border:none;border-radius:10px;font-size:18px;font-weight:700;cursor:pointer;transition:transform .2s,box-shadow .2s;border:2px solid white}.diff-btn:active{transform:scale(.95);box-shadow:0 2px 10px #ff758c66}.game-container{background:#fff;padding:20px;border-radius:0 0 15px 15px;box-shadow:0 4px 15px #ff698733}.puzzle-board{display:grid;gap:3px;background:pink;padding:3px;border-radius:10px;margin-bottom:20px;aspect-ratio:1;border:2px solid #ff758c}.puzzle-piece{background-size:cover;background-position:center;border-radius:5px;cursor:pointer;transition:all .3s ease;position:relative;overflow:hidden}.puzzle-piece.empty{background:#fff0f3;cursor:default;background-image:url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="%23ffc2d1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>');background-repeat:no-repeat;background-position:center;background-size:40%}.puzzle-piece:not(.empty):active{transform:scale(.95);box-shadow:0 0 15px #ff758c99}.puzzle-piece.hint{animation:hintPulse .5s ease-in-out}@keyframes hintPulse{0%,to{transform:scale(1)}50%{transform:scale(1.05);box-shadow:0 0 20px #ff6987cc}}.controls{display:flex;gap:10px;justify-content:space-between}.btn{flex:1;padding:12px;border:none;border-radius:10px;font-size:16px;font-weight:700;cursor:pointer;transition:all .2s}.btn-primary{background:linear-gradient(135deg,#ff758c,#ff7eb3);color:#fff}.btn-secondary{background:#fff0f3;color:#d63384;border:1px solid #ffc2d1}.btn-hint{background:linear-gradient(135deg,#a18cd1,#fbc2eb);color:#fff}.btn:active{transform:scale(.95)}.celebration-overlay{position:fixed;top:0;left:0;width:100%;height:100%;background:#000c;display:none;justify-content:center;align-items:center;z-index:1000;animation:fadeIn .3s ease-in-out}.celebration-overlay.show{display:flex}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.celebration-content{background:#fff;padding:40px 30px;border-radius:20px;text-align:center;max-width:350px;width:90%;position:relative;animation:slideUp .5s ease-out}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}to{transform:translateY(0);opacity:1}}.celebration-content h2{font-size:32px;color:#667eea;margin-bottom:15px}.celebration-text{font-size:18px;color:#555;margin-bottom:20px}.celebration-stats{background:#f0f0f0;padding:15px;border-radius:10px;margin-bottom:20px}.celebration-stats p{margin:8px 0;font-size:16px;color:#555}.celebration-stats strong{color:#667eea}.hearts-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.heart{position:absolute;font-size:30px;animation:floatHeart 3s ease-out forwards;opacity:0}@keyframes floatHeart{0%{transform:translateY(0) scale(0);opacity:1}50%{opacity:1}to{transform:translateY(-300px) scale(1.5);opacity:0}}.confetti-container{position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;overflow:hidden}.rose{position:absolute;font-size:24px;animation:fallRose 4s linear forwards;opacity:0}@keyframes fallRose{0%{transform:translateY(-50px) rotate(0) translate(0);opacity:0}10%{opacity:1}50%{transform:translateY(300px) rotate(180deg) translate(20px)}to{transform:translateY(600px) rotate(360deg) translate(-20px);opacity:0}}.image-selector{margin-top:30px;padding-top:20px;border-top:2px solid #fff0f3}.image-selector h3{text-align:center;color:#d63384;margin-bottom:15px;font-size:18px}.image-options{display:grid;grid-template-columns:repeat(2,1fr);gap:10px;margin-bottom:20px}.image-option{cursor:pointer;border:3px solid transparent;border-radius:10px;overflow:hidden;transition:all .3s;position:relative;width:100%}.image-option img{width:100%;height:120px;object-fit:cover;display:block}.image-option span{display:block;text-align:center;padding:8px;background:#fff0f3;font-size:14px;font-weight:500;color:#d63384}.image-option.active{border-color:#ff758c;box-shadow:0 0 15px #ff758c66}.image-option:active{transform:scale(.95)}.custom-image{margin-top:15px}.upload-btn{display:block;width:100%;padding:15px;background:linear-gradient(135deg,#a18cd1,#fbc2eb);color:#fff;text-align:center;border-radius:10px;font-weight:700;cursor:pointer;transition:transform .2s;border:2px solid white}.upload-btn:active{transform:scale(.95)}.custom-preview{margin-top:10px;display:none}.custom-preview.show{display:block}.custom-preview img{width:100%;max-height:200px;object-fit:contain;border-radius:10px;border:2px solid #ff758c}.current-image-preview{margin-bottom:15px;text-align:center}.current-image-preview img{width:100%;max-width:150px;height:100px;object-fit:cover;border-radius:10px;border:2px solid #ffc2d1}.btn-solve{background:linear-gradient(135deg,#ff9a9e,#fa709a);color:#fff}.btn-image{background:linear-gradient(135deg,#a1c4fd,#c2e9fb);color:#495057}.solving-status{text-align:center;padding:20px;background:#fff0f3;border-radius:10px;margin-top:15px;border:1px solid #ffc2d1}.spinner{width:40px;height:40px;margin:0 auto 10px;border:4px solid #fff;border-top:4px solid #ff758c;border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.solving-status p{color:#d63384;font-weight:500}@media(max-width:480px){.image-options{grid-template-columns:repeat(2,1fr)}.image-option img{height:100px}}
